; Eventually we should use the "put binaries in scope feature of Dune"
(alias
 (name runtest)
 (deps (:input add_field.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input auto.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input clear.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input eauto.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

; Broken
; (alias
;  (name runtest)
;  (deps (:input elim.v)
;    ../../sertop/sercomp.exe
;    ../../sertop/compser.exe)
;  (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input exact.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input exists.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input firstorder.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input fix.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input functional_scheme.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input hint_rewrite.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (ignore-stdout (run sercomp --exn_on_opaque %{input}))))

(alias
 (name runtest)
 (deps (:input intropattern.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input intros.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input libTactics.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input rename.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input replace.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input revert.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input specialize.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input subst.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input symmetry.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))

(alias
 (name runtest)
 (deps (:input tactic_notation.v)
   ../../sertop/sercomp.exe
   ../../sertop/compser.exe)
 (action (run ./test_roundtrip %{input})))
